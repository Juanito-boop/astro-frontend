import{r as d}from"./index.NEDEFKed.js";var l={exports:{}},c={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=d,m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),k=Object.prototype.hasOwnProperty,_=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function f(r,e,o){var t,n={},a=null,i=null;o!==void 0&&(a=""+o),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(i=e.ref);for(t in e)k.call(e,t)&&!w.hasOwnProperty(t)&&(n[t]=e[t]);if(r&&r.defaultProps)for(t in e=r.defaultProps,e)n[t]===void 0&&(n[t]=e[t]);return{$$typeof:m,type:r,key:a,ref:i,props:n,_owner:_.current}}c.Fragment=g;c.jsx=f;c.jsxs=f;l.exports=c;var x=l.exports;class s extends Error{}s.prototype.name="InvalidTokenError";function h(r){return decodeURIComponent(atob(r).replace(/(.)/g,(e,o)=>{let t=o.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}function v(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return h(e)}catch{return atob(e)}}function y(r,e){if(typeof r!="string")throw new s("Invalid token specified: must be a string");e||(e={});const o=e.header===!0?0:1,t=r.split(".")[o];if(typeof t!="string")throw new s(`Invalid token specified: missing part #${o+1}`);let n;try{n=v(t)}catch(a){throw new s(`Invalid token specified: invalid base64 for part #${o+1} (${a.message})`)}try{return JSON.parse(n)}catch(a){throw new s(`Invalid token specified: invalid json for part #${o+1} (${a.message})`)}}function E(){localStorage.getItem("token")&&(localStorage.removeItem("token"),window.location.href="/")}function I(){const[r,e]=d.useState("");if(d.useEffect(()=>{(()=>{typeof window<"u"&&e(window.localStorage.getItem("token")||"")})()},[]),r){const o=y(r),{nombre_rol:t,username:n,id_tienda:a,iat:i,exp:p}=o;return{nombre_rol:t,username:n,id_tienda:a,iat:i,exp:p}}else return{nombre_rol:"",username:"",id_tienda:0,iat:0,exp:0}}export{E as L,x as j,I as o};
